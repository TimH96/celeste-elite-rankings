parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Ve4Q":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.rankingCriteria=void 0,function(e){e[e.point=0]="point",e[e.average=1]="average"}(e=exports.rankingCriteria||(exports.rankingCriteria={}));
},{}],"o1sn":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.UPDATE_STATE="updateState"}(e||(e={})),exports.default=e;
},{}],"JM9L":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.TOTAL="Total",e.A_SIDES="A-Sides",e.COLLECTIBLES="Collectibles",e.B_SIDES="B-Sides",e.C_SIDES="C-Sides"}(e||(e={})),exports.default=e;
},{}],"EcAp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChapterNames=exports.Categories=exports.CORE_FC_RUN_VALUE=exports.CORE_FC_VARIABLE_NAME=exports.ARB_RUN_VALUE=exports.FC_RUN_VALUE=exports.COLLECTIBLES_VARIABLE_NAME=exports.GAME_NAME=exports.GAME_ID=void 0;var e="o1y9j9v6";exports.GAME_ID=e;var r="Celeste";exports.GAME_NAME=r;var C="Full Clear / ARB / HC";exports.COLLECTIBLES_VARIABLE_NAME=C;var t="Full Clear";exports.FC_RUN_VALUE=t;var o="All Red Berries";exports.ARB_RUN_VALUE=o;var s="Full Clear";exports.CORE_FC_VARIABLE_NAME=s;var E,_,A="Yes";exports.CORE_FC_RUN_VALUE=A,function(e){e.A_SIDES="Clear",e.COLLECTIBLES="Collectibles",e.B_SIDES="B-Side",e.C_SIDES="C-Side"}(E||(E={})),exports.Categories=E,function(e){e.C1="Forsaken City",e.C2="Old Site",e.C3="Celestial Resort",e.C4="Golden Ridge",e.C5="Mirror Temple",e.C6="Reflection",e.C7="The Summit",e.C8="Core",e.C9="Farewell"}(_||(_={})),exports.ChapterNames=_;
},{}],"uyhC":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,a)}c((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchUser=exports.fetchLevelVariables=exports.fetchLevelCategories=exports.fetchLevels=exports.fetchLevelBoardWithVariables=exports.fetchLevelBoard=void 0;var r=require("./constants/celeste"),n="www.speedrun.com",o="v1",s=function(){return"https://"+n+"/api/"+o},i=function(n,o){return e(void 0,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,fetch(s()+"/leaderboards/"+r.GAME_ID+"/level/"+n.id+"/"+o.id)];case 1:return[2,e.sent().json()]}})})};exports.fetchLevelBoard=i;var a=function(n,o,i){return e(void 0,void 0,Promise,function(){var e;return t(this,function(t){switch(t.label){case 0:return e=i.map(function(e){return"var-"+e.variableId+"="+e.valueId}).join("&"),[4,fetch(s()+"/leaderboards/"+r.GAME_ID+"/level/"+n.id+"/"+o.id+"?"+e)];case 1:return[2,t.sent().json()]}})})};exports.fetchLevelBoardWithVariables=a;var c=function(){return e(void 0,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,fetch(s()+"/games/"+r.GAME_ID+"/levels")];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})};exports.fetchLevels=c;var u=function(r){return e(void 0,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,fetch(s()+"/levels/"+r.id+"/categories")];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})};exports.fetchLevelCategories=u;var l=function(r){return e(void 0,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,fetch(s()+"/levels/"+r.id+"/variables")];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})};exports.fetchLevelVariables=l;var f=function(r){return e(void 0,void 0,Promise,function(){return t(this,function(e){switch(e.label){case 0:return[4,fetch(s()+"/users/"+r)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}})})};exports.fetchUser=f;
},{"./constants/celeste":"EcAp"}],"LZ1D":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e))}catch(t){i(t)}}function u(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,u)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(u){i=[6,u],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRawLeaderboardData=void 0;var r=require("./wrapper"),n=require("./constants/celeste"),a=function(){return e(void 0,void 0,Promise,function(){var e,a,i,o;return t(this,function(t){switch(t.label){case 0:return[4,r.fetchLevels()];case 1:return e=t.sent(),[4,r.fetchLevelCategories(e.data[0])];case 2:return a=t.sent(),[4,Promise.all(e.data.map(function(e){return r.fetchLevelVariables(e)}))];case 3:return i=t.sent(),[4,Promise.all(a.data.map(function(t){return Promise.all(e.data.map(function(e,a){if(t.name===n.Categories.COLLECTIBLES){if(e.name===n.ChapterNames.C9)return r.fetchLevelBoard(e,t);var o=i[a],u=[],l=function(e,t){var r=o.data.find(function(t){return t.name===e}),n=Object.entries(r.values.values).find(function(e){e[0];return e[1].label===t});return{variableId:r.id,valueId:n[0]}},s=e.name===n.ChapterNames.C8;return u.push(l(n.COLLECTIBLES_VARIABLE_NAME,s?n.ARB_RUN_VALUE:n.FC_RUN_VALUE)),s&&u.push(l(n.CORE_FC_VARIABLE_NAME,n.CORE_FC_RUN_VALUE)),r.fetchLevelBoardWithVariables(e,t,u)}return r.fetchLevelBoard(e,t)}))}))];case 4:return o=t.sent(),[2,{categories:a,levels:e,grid:o,variables:i}]}})})};exports.getRawLeaderboardData=a;
},{"./wrapper":"uyhC","./constants/celeste":"EcAp"}],"Y8Tq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeFarewellObsoletes=exports.removeColumn=exports.getGridMapTransformation=void 0;var e=function(e){return function(r){return r.map(function(r,t){return e(r,t)})}};exports.getGridMapTransformation=e;var r=function(e,r){return e.filter(function(e,t){return t!==r})};exports.removeColumn=r;var t=function(r){return e(function(e,r){return 0===r?e:e.filter(function(e,r){return 8!==r})})(r)};exports.removeFarewellObsoletes=t;
},{}],"FAAn":[function(require,module,exports) {
"use strict";var t=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function u(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(u,a)}c((r=r.apply(t,e||[])).next())})},e=this&&this.__generator||function(t,e){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../../speedruncom/wrapper");function r(t){var e=t.length;if(0===e)return[0,0,0];var n=t.reduce(function(t,e){return t+e},0);if(1===e)return[1,n,n];var r=n/e,i=t.reduce(function(t,e){return t+e*e},0)-r*r*e;return[e,r,2*Math.sqrt(i/(e-1))/Math.sqrt(e)]}var i=function(){function i(t,e){this._totalAvgScore=null,this._name=void 0,this.id=t,this.timesPage=e.map(function(t){return new Array(t).fill(null)}),this._pointsPerColumn=e.map(function(t){return 0}),this._avgScorePerColumn=e.map(function(t){return null})}return i.prototype.registerRun=function(t,e,n,r){var i={place:t.place,run:t.run,score:e};this.timesPage[n][r]=i},i.prototype.getPointsOfColumn=function(t){if(this._pointsPerColumn[t])return this._pointsPerColumn[t];var e=this.timesPage[t].filter(function(t){return null!=t}).reduce(function(t,e){return t+e.score},0);return this._pointsPerColumn[t]=e,e},i.prototype.getAvgScoreOfColumn=function(t){if(null===this._avgScorePerColumn[t]){var e=this.timesPage[t].filter(function(t){return null!=t}).map(function(t){return t.score});this._avgScorePerColumn[t]=r(e)}return this._avgScorePerColumn[t]},i.prototype.getAvgScore=function(){if(null===this._totalAvgScore){var t=this.timesPage.map(function(t){return t.filter(function(t){return null!=t}).map(function(t){return t.score})}).reduce(function(t,e){return t.concat(e)},[]);this._totalAvgScore=r(t)}return this._totalAvgScore},Object.defineProperty(i.prototype,"totalPoints",{get:function(){var t=this;return this._pointsPerColumn.reduce(function(e,n,r){return e+t.getPointsOfColumn(r)},0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){var t=this;return this._name?this._name:(n.fetchUser(this.id).then(function(e){var n=e.data.names.international;return t._name=n,n}),"")},enumerable:!1,configurable:!0}),i.prototype.getName=function(){return t(this,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:if(this._name)return[2,this._name];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,n.fetchUser(this.id)];case 2:return[4,e.sent().data.names.international];case 3:return t=e.sent(),this._name=t,[3,5];case 4:return e.sent(),this._name="UNLOADED: "+this.id,[3,5];case 5:return[2,this._name]}})})},i}();exports.default=i;
},{"../../speedruncom/wrapper":"uyhC"}],"iP8Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPercentScoreFn=exports.eliteScoring=void 0;var e=function(e){return 1===e.place?100:2===e.place?97:Math.max(0,98-e.place)};exports.eliteScoring=e;var t=function(e){return function(t){var r=t.run.times.primary_t;return Math.max(0,Math.round(1e3*(1-Math.log((Math.E-1)*(r/e-1)+1))))}};exports.getPercentScoreFn=t;
},{}],"JkC0":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(u,a)}c((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=n(require("./models/Player")),o=require("./scoring"),i=function(n){return e(void 0,void 0,Promise,function(){var e,i;return t(this,function(t){return e=new Map,i=n.map(function(e){return e.length}),n.forEach(function(t,n){return t.forEach(function(t,u){var a=o.getPercentScoreFn(t.runs[0].run.times.primary_t);t.runs.forEach(function(t){var o=t.run.players[0];o.id&&(e.has(o.id)||e.set(o.id,new r.default(o.id,i)),e.get(o.id).registerRun(t,a(t),n,u))})})}),[2,e]})})};exports.default=i;
},{"./models/Player":"FAAn","./scoring":"iP8Y"}],"AnxZ":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function u(e){try{c(n.next(e))}catch(t){a(t)}}function i(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(u,i)}c((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(i){a=[6,i],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../speedruncom/get-data"),o=require("../speedruncom/grid-transformation"),a=r(require("./build-map")),u=function(){return e(void 0,void 0,void 0,function(){var e,r;return t(this,function(t){switch(t.label){case 0:return[4,n.getRawLeaderboardData()];case 1:return e=t.sent(),r=e.grid.map(function(e){return e.map(function(e){return e.data})}),[o.removeFarewellObsoletes].forEach(function(e){r=e(r)}),[4,a.default(r)];case 2:return[2,t.sent()]}})})};exports.default=u;
},{"../speedruncom/get-data":"LZ1D","../speedruncom/grid-transformation":"Y8Tq","./build-map":"JkC0"}],"lZfO":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAverageGetter=exports.getPointsGetter=void 0;var e=t(require("../../models/TableSelection"));function r(t){switch(t){case e.default.TOTAL:return function(t){return t.totalPoints};case e.default.A_SIDES:return function(t){return t.getPointsOfColumn(0)};case e.default.COLLECTIBLES:return function(t){return t.getPointsOfColumn(1)};case e.default.B_SIDES:return function(t){return t.getPointsOfColumn(2)};case e.default.C_SIDES:return function(t){return t.getPointsOfColumn(3)};default:return function(t){return t.totalPoints}}}function n(t){switch(t){case e.default.TOTAL:return function(t){return t.getAvgScore()};case e.default.A_SIDES:return function(t){return t.getAvgScoreOfColumn(0)};case e.default.COLLECTIBLES:return function(t){return t.getAvgScoreOfColumn(1)};case e.default.B_SIDES:return function(t){return t.getAvgScoreOfColumn(2)};case e.default.C_SIDES:return function(t){return t.getAvgScoreOfColumn(3)};default:return function(t){return t.getAvgScore()}}}exports.getPointsGetter=r,exports.getAverageGetter=n;
},{"../../models/TableSelection":"JM9L"}],"qXZe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSorterFunction=void 0;var e=require("../../states/AppState"),t=require("./points-getter"),r=function(r){if(r.rankingCriteria===e.rankingCriteria.point){var n=t.getPointsGetter(r.tableSelection);return function(e,t){return n(t)-n(e)}}var i=t.getAverageGetter(r.tableSelection);return function(e,t){var r=i(e),n=i(t);return r[0]&&n[0]?n[1]-n[2]-(r[1]-r[2]):n[0]-r[0]}};exports.getSorterFunction=r;
},{"../../states/AppState":"Ve4Q","./points-getter":"lZfO"}],"vnHZ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../models/AppEvent")),n=e(require("../../models/TableSelection")),l=function(e,n){return function(){e.tableSelection=n,document.dispatchEvent(new CustomEvent(t.default.UPDATE_STATE,{detail:e}))}},r=function(e,t){var n=document.createElement("button");return n.innerHTML=t,n.disabled=t===e.tableSelection,n.addEventListener("click",l(e,t)),n},u=function(e){var t=document.createElement("li");t.classList.add("control-buttons");for(var l=0,u=[n.default.TOTAL,n.default.A_SIDES,n.default.COLLECTIBLES,n.default.B_SIDES,n.default.C_SIDES];l<u.length;l++){var a=u[l];t.appendChild(r(e,a))}return t};exports.default=u;
},{"../../models/AppEvent":"o1sn","../../models/TableSelection":"JM9L"}],"WepM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild};exports.default=e;
},{}],"EYoH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOrdinal=exports.getMs=exports.getPts=exports.getMiniText=void 0;var t=function(t){var e=document.createElement("span");return e.classList.add("mini-text"),e.innerHTML=t,e};exports.getMiniText=t;var e=function(t){var e=document.createElement("span");return e.classList.add("mini-text"),e.innerHTML=t,'<span class="mini-text">'+t+"</span>"},n=function(n){return void 0===n&&(n=!1),n?e("pts"):t("pts")};exports.getPts=n;var r=function(n,r){return void 0===r&&(r=!1),r?e(n):t(n)};exports.getMs=r;var s=function(n,r){void 0===r&&(r=!1);var s=["st","nd","rd"][((n+90)%100-10)%10-1]||"th";return r?e(s):t(s)};exports.getOrdinal=s;
},{}],"SuUS":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../../states/AppState"),n=e(require("../../models/AppEvent")),r=e(require("../util/html-helper")),a=require("../util/points-getter"),i=require("./subtexts"),l=function(e,t,n,a){var l=r.default('\n    <tr class="hover-highlight">\n      <td class="bold">'+e+"</td>\n      <td>"+t.name+"</td>\n      <td>"+n+" "+i.getPts(!0)+'</td>\n      <td><div class="averageCell"><span class="count"><span>'+a[0]+"</span></span>"+a[1].toFixed(2)+'<span class="confidenceBound">'+a[2].toFixed(2)+"</span></div></td>\n    </tr>\n  ");return l.addEventListener("click",function(){window.open("./player.html?player="+t.id,"_blank").focus()}),l},d=function(e){for(var t=document.createElement("tr"),n=0,r=e;n<r.length;n++){var a=r[n],i=document.createElement("th");null!=a[1]&&a[1](i),i.innerHTML="<div>"+a[0]+"</div>",t.appendChild(i)}return t};function s(e,t){return function(r){console.log("Crit:",e.rankingCriteria,t),t===e.rankingCriteria&&r.classList.add("criteriaSel"),r.addEventListener("click",function(){e.rankingCriteria=t,document.dispatchEvent(new CustomEvent(n.default.UPDATE_STATE,{detail:e}))})}}var o=function(e,n){var r=document.createElement("table"),i=a.getPointsGetter(e.tableSelection),o=a.getAverageGetter(e.tableSelection);r.classList.add("leaderboard-table");var u=d([["Place",null],["Name",null],["Points",s(e,t.rankingCriteria.point)],["Average",s(e,t.rankingCriteria.average)]]);return r.appendChild(u),n.forEach(function(e,t){return r.appendChild(l(t+1,e,i(e),o(e)))}),r};exports.default=o;
},{"../../states/AppState":"Ve4Q","../../models/AppEvent":"o1sn","../util/html-helper":"WepM","../util/points-getter":"lZfO","./subtexts":"EYoH"}],"GhOG":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../../models/AppEvent")),n=function(e,n){if(e.tableState>=n)return document.createElement("div");var a=document.createElement("div");a.classList.add("center");var r=document.createElement("button");return r.innerHTML="Load 50 more ...",r.addEventListener("click",function(){e.tableState=e.tableState+50,document.dispatchEvent(new CustomEvent(t.default.UPDATE_STATE,{detail:e}))}),a.appendChild(r),a};exports.default=n;
},{"../../models/AppEvent":"o1sn"}],"oM1H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){var e,t=document.createElement("div");return(e=t.classList).add.apply(e,["loader","center"]),t.innerHTML="Loading ...",t};exports.default=e;
},{}],"GJI9":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,a){function i(e){try{l(n.next(e))}catch(t){a(t)}}function u(e){try{l(n.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,u)}l((n=n.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var n=require("../util/array-helper"),o=r(require("./control-buttons")),a=r(require("./leaderboard-table")),i=r(require("./load-more-button")),u=r(require("./loader")),l=function(r,l){return e(void 0,void 0,Promise,function(){var c,s;return t(this,function(f){switch(f.label){case 0:return(c=function(){l.innerHTML=""})(),l.appendChild(u.default()),s=Array.from(r.players.values()).sort(n.getSorterFunction(r)).slice(0,r.tableState),[4,Promise.all(s.map(function(r){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r.getName()];case 1:return[2,e.sent()]}})})}))];case 1:return f.sent(),c(),l.appendChild(o.default(r)),l.appendChild(a.default(r,s)),l.appendChild(i.default(r,r.players.size)),[2]}})})};exports.default=l;
},{"../util/array-helper":"qXZe","./control-buttons":"vnHZ","./leaderboard-table":"SuUS","./load-more-button":"GhOG","./loader":"oM1H"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function u(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,u)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(u){i=[6,u],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../states/AppState"),a=n(require("../models/AppEvent")),i=n(require("../models/TableSelection")),o=n(require("../../modules/rankings/get-map")),u=n(require("../ui/components/main-page")),l=n(require("../ui/components/loader")),c=function(){return e(void 0,void 0,void 0,function(){var e,n,c;return t(this,function(t){switch(t.label){case 0:return(e=document.getElementById("dynamic-container")).appendChild(l.default()),[4,o.default()];case 1:return n=t.sent(),c={players:n,tableSelection:i.default.TOTAL,tableState:100,rankingCriteria:r.rankingCriteria.point},document.addEventListener(a.default.UPDATE_STATE,function(t){u.default(t.detail,e)}),[4,u.default(c,e)];case 2:return t.sent(),[2]}})})};c();
},{"../states/AppState":"Ve4Q","../models/AppEvent":"o1sn","../models/TableSelection":"JM9L","../../modules/rankings/get-map":"AnxZ","../ui/components/main-page":"GJI9","../ui/components/loader":"oM1H"}]},{},["QCba"], null)
//# sourceMappingURL=pages.e12c96c3.js.map